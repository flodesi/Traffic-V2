YUI.add("notification-event-comment-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{id:{},type:{},owner:{isModel:!0},timestamp:{},content:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-follower-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-added-to-gallery-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},gallery:{},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-people-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},personTagged:{isModel:!0},tagger:{isModel:!0},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-tag-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-photo-comment-mention-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-photo-group-invite-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},group:{id:"",name:""},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-group-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-note-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-share-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-group-reply-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},timestamp:{},replyId:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-flickrmail-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},mail:{},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("notification-event-testimonial-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{type:{},owner:{isModel:!0},timestamp:{},url:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});
YUI.add("flickr-notifications-markread-updater",function(e,t){"use strict";function n(n,r){return r.callAPI("flickr.notifications.markread",n).then(null,e.FetcherErrorLogger(t))}e.namespace("ModelUpdaters")["flickr-notifications-markread"]={run:n}},"@VERSION@",{requires:["flickr-promise"]});
YUI.add("flickr-activity-getNotificationsCount-fetcher",function(e,t){"use strict";function n(e,t,n){var r=e.apiResponse,i=e.personNotifsModelRegistry;return i.setValue(n.id,"unseenNotificationCount",r.activity.count),r.activity.count}function r(n,r){var i=this;return e.FlickrPromise({apiResponse:r.callAPI("flickr.activity.getNotificationsCount",n),personNotifsModelRegistry:r.getModelRegistry("person-notifications-models")}).then(function(e){return i._processResponse(e,r,n)},e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-activity-getNotificationsCount"]={run:r,_processResponse:n}},"@VERSION@",{requires:["flickr-promise"],optional:["person-notifications-models","api-helper"]});
YUI.add("flickr-activity-muteObject-updater",function(e,t){"use strict";function n(n,r){var i=n;return r.callAPI("flickr.activity.muteObjectByType",i).then(null,e.FetcherErrorLogger(t))}e.namespace("ModelUpdaters")["flickr-activity-muteObject"]={run:n}},"@VERSION@",{requires:["flickr-promise"]});
YUI.add("flickr-activity-unmuteObject-updater",function(e,t){"use strict";function n(n,r){var i=n;return r.callAPI("flickr.activity.unmuteObjectByType",i).then(null,e.FetcherErrorLogger(t))}e.namespace("ModelUpdaters")["flickr-activity-unmuteObject"]={run:n}},"@VERSION@",{requires:["flickr-promise"]});
YUI.add("person-notifications-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-people-getInfo"].run(t,this.appContext)},readUnseenNotificationCount:function(t,n){return e.ModelFetchers["flickr-activity-getNotificationsCount"].run(t,n)},updateMutedObjects:function(t,n){return e.ModelUpdaters["flickr-activity-muteObject"].run(t,n)},updateUnmutedObjects:function(t,n){return e.ModelUpdaters["flickr-activity-unmuteObject"].run(t,n)}},remoteReadUnseenNotificationCount:function(e,t,n){return this.setValue(e,"unseenLastFetchedTimestamp",Date.now()),this.remote.readUnseenNotificationCount(t,n)},remoteUpdateMutedObjects:function(e,t,n){var r=this;return this.remote.updateMutedObjects(t,n).then(function(t){return r.setValue(e,"muteChanged",!0),t})},remoteUpdateUnmutedObjects:function(e,t,n){var r=this;return this.remote.updateUnmutedObjects(t,n).then(function(t){return r.setValue(e,"muteChanged",!0),t})},attributes:{id:{setter:function(e){return e||this.appContext.getViewer().nsid}},unseenNotificationCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},unreadFlickrMailCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},unseenLastFetchedTimestamp:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},muteChanged:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)},defaultValue:!1},notifications:{isCollection:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-activity-recentByType"]}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-activity-recentByType-fetcher","flickr-notifications-markread-updater","flickr-people-getInfo-fetcher","flickr-activity-getNotificationsCount-fetcher","flickr-activity-muteObject-updater","flickr-activity-unmuteObject-updater","attribute-helpers"]});
